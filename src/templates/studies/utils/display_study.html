<div class="col-4 my-2">
  <small class="text-muted">
    Created by
    {{ display_names.get(study['owner'], study['owner']) }}
    on
    {{ study['created'].strftime('%m-%d-%Y') }}
    {% if study["private"] %}
      (private)
    {% endif %}
  </small>
  <div>
    <h3 class="h3 mb-0">
      {% if g.user['id'] in study['participants'] %}
        <a class="text-decoration-none" href="{{ url_for('studies.study', study_title=study['title']) }}">{{ study['title'] }}</a>
      {% else %}
        {{ study['title'] }}
      {% endif %}
    </h3>
    {% include 'studies/utils/study_configuration_badge.html' %}
  </div>
  <div class="my-2">{{ study['description'] }}</div>
  {% if g.user['id'] == study['owner'] %}
    <form action="{{ url_for('studies.delete_study', study_title=study['title']) }}" method="post">
      <button class="btn btn-danger btn-sm" type="button submit" onclick="return confirm('Are you sure you want to delete this study?');">Delete Study</button>
    </form>
  {% elif study["invited_participants"] and g.user["id"] in study["invited_participants"]%}
    <form action="{{ url_for('studies.accept_invitation', study_title=study['title']) }}" method="post">
      <button class="btn btn-success btn-sm" type="button submit">Accept Invitation</button>
    </form>
  {% elif study['requested_participants'] and g.user['id'] in study['requested_participants'] %}
    <button type="button" class="btn btn-secondary btn-sm" disabled="true">Pending Approval from Study Owner</button>
  {% elif g.user['id'] not in study['participants'] %}
    {% if study["study_type"] == "MPCGWAS" and study["participants"] | length == 3 %}
      <p>(This study is full)</p>
    {% else %}
      <a href="{{ url_for('studies.request_join_study', study_title=study['title']) }}" class="btn btn-outline-primary btn-sm">Request to Join Study</a>
    {% endif %}
  {% endif %}
</div>